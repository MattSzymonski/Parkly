{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Lukasz\\\\Desktop\\\\studia\\\\semestr5\\\\React\\\\PROJECT\\\\Tuesday_Parkly\\\\MobileApp\\\\components\\\\listPage.js\";\n\nimport React, { useEffect, useState } from 'react';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { SearchBar } from 'react-native-elements';\nimport { DataTable } from 'react-native-paper';\nimport axios from 'axios';\nvar api_url = \"http://parkly-env.eba-u2qumtf7.us-east-2.elasticbeanstalk.com\";\n\nvar ListPage = function ListPage(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useState = useState([[]]),\n      _useState2 = _slicedToArray(_useState, 2),\n      parkings = _useState2[0],\n      setParkings = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      totalPages = _useState6[0],\n      setPages = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      currentPage = _useState8[0],\n      setPage = _useState8[1];\n\n  var ite = route.params;\n  var options = {\n    headers: {\n      'security-token': ite.token.current\n    }\n  };\n  useEffect(function () {\n    axios.get(api_url + \"/p/parkings\", options).then(function (response) {\n      setParkings(response.data);\n      setPages(response.data.totalPages);\n    }).finally(function () {\n      return setLoading(false);\n    });\n  }, []);\n\n  var pageChange = function pageChange(cp) {\n    setPage(cp);\n    setLoading(true);\n    axios.get(api_url + \"/p/parkings?page=\" + cp, options).then(function (response) {\n      setParkings(response.data);\n      setPages(response.data.totalPages);\n    }).finally(function () {\n      setLoading(false);\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.bannerContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.banner,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.welcomeSubtext,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, \" PARKLY.\"), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, \" Admin \")), React.createElement(View, {\n    style: styles.welcomeUser,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 18\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 46\n    }\n  }, \" \", ite.user.current), \" \"))), React.createElement(View, {\n    style: styles.bannerContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.searchContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, React.createElement(TextInput, {\n    style: styles.TextInput,\n    placeholder: \"Search for objects...\",\n    placeholderTextColor: \"#000\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  })), React.createElement(TouchableOpacity, {\n    style: styles.searchBtn,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, \"Search\"))), React.createElement(View, {\n    style: styles.filterContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.entryBtn,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, \"Filter\")), React.createElement(TouchableOpacity, {\n    style: styles.filterBtn,\n    onPress: function onPress() {\n      return navigation.navigate('Add', {\n        token: ite.token.current,\n        username: ite.user.current\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, \"Add new entry\"))), React.createElement(View, {\n    style: styles.filterContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, React.createElement(DataTable, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, React.createElement(DataTable.Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, React.createElement(DataTable.Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, \" Action \"), React.createElement(DataTable.Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, \" Name \"), React.createElement(DataTable.Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, \" Country \"), React.createElement(DataTable.Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, \" Town \"), React.createElement(DataTable.Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, \" Spots \")), loading ? React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, \" Loading ... \") : React.createElement(SafeAreaView, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, parkings.items.map(function (element) {\n    return React.createElement(DataTable.Row, {\n      style: {\n        height: 80\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, React.createElement(DataTable.Cell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }\n    }, \" \", React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate('Details', {\n          token: ite.token.current,\n          username: ite.user.current\n        });\n      },\n      style: styles.mgmtBtn,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 38\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 181\n      }\n    }, \"Manage\"))), React.createElement(DataTable.Cell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }\n    }, \" \", element.name, \" \"), React.createElement(DataTable.Cell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }, \" \", element.address.country), React.createElement(DataTable.Cell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }\n    }, \" \", element.address.town), React.createElement(DataTable.Cell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, \" \", element.spotsTaken, \"/\", element.spotsTotal));\n  })), React.createElement(DataTable.Pagination, {\n    page: currentPage,\n    numberOfPages: totalPages,\n    label: currentPage + 1 + \" of \" + totalPages,\n    onPageChange: function onPageChange(page) {\n      return pageChange(page);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }))));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  bannerContainer: {\n    flexDirection: \"row\",\n    backgroundColor: \"#ffd300\",\n    paddingTop: 15,\n    paddingRight: 15\n  },\n  filterContainer: {\n    flexDirection: \"row\",\n    backgroundColor: \"#ffd300\",\n    paddingBottom: 15,\n    paddingRight: 15\n  },\n  searchContainer: {\n    width: Dimensions.get(\"window\").width - 100,\n    paddingLeft: 35,\n    paddingRight: 15,\n    paddingBottom: 15\n  },\n  searchBtn: {\n    borderRadius: 10,\n    height: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: 80,\n    backgroundColor: \"#FAEBD7\"\n  },\n  mgmtBtn: {\n    borderRadius: 10,\n    height: 35,\n    width: 70,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"#ffd300\"\n  },\n  banner: {\n    flexDirection: \"row\",\n    width: Dimensions.get(\"window\").width / 2,\n    height: 65,\n    borderBottomLeftRadius: 20,\n    paddingLeft: 10\n  },\n  welcomeContainer: {\n    justifyContent: \"flex-start\",\n    alignSelf: \"flex-start\",\n    width: '80%'\n  },\n  tableContainer: {\n    marginLeft: 15,\n    marginRight: 15\n  },\n  welcomeText: {\n    fontSize: 36,\n    marginBottom: 5\n  },\n  welcomeSubtext: {\n    fontWeight: \"bold\",\n    fontSize: 30\n  },\n  welcomeUser: {\n    width: Dimensions.get(\"window\").width / 2,\n    flexDirection: \"row\",\n    justifyContent: \"flex-end\",\n    borderBottomRightRadius: 20,\n    paddingRight: 10\n  },\n  welcomeSubtext2: {\n    fontSize: 30\n  },\n  filterBtn: {\n    borderRadius: 10,\n    height: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginLeft: 35,\n    width: Dimensions.get(\"window\").width - 200,\n    backgroundColor: \"#FAEBD7\"\n  },\n  entryBtn: {\n    borderRadius: 10,\n    height: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginLeft: 35,\n    width: 110,\n    backgroundColor: \"#FAEBD7\"\n  },\n  welcomeLogin: {\n    fontSize: 20,\n    marginBottom: 10\n  },\n  inputView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  TextInput: {\n    height: 50,\n    paddingLeft: 30,\n    backgroundColor: \"#f8f8ff\",\n    borderRadius: 20\n  },\n  TextInputAdd: {\n    flex: 1,\n    height: 30,\n    width: Dimensions.get(\"window\").width - 140,\n    paddingLeft: 15,\n    backgroundColor: \"#f8f8ff\",\n    borderRadius: 10,\n    marginLeft: 35,\n    marginRight: 35,\n    marginTop: 10\n  }\n});\nexport default ListPage;","map":{"version":3,"sources":["C:/Users/Lukasz/Desktop/studia/semestr5/React/PROJECT/Tuesday_Parkly/MobileApp/components/listPage.js"],"names":["React","useEffect","useState","SearchBar","DataTable","axios","api_url","ListPage","navigation","route","parkings","setParkings","loading","setLoading","totalPages","setPages","currentPage","setPage","ite","params","options","headers","token","current","get","then","response","data","finally","pageChange","cp","styles","container","bannerContainer","banner","welcomeSubtext","welcomeUser","fontSize","user","searchContainer","TextInput","searchBtn","filterContainer","entryBtn","filterBtn","navigate","username","items","map","element","height","mgmtBtn","name","address","country","town","spotsTaken","spotsTotal","page","StyleSheet","create","flex","flexDirection","backgroundColor","paddingTop","paddingRight","paddingBottom","width","Dimensions","paddingLeft","borderRadius","alignItems","justifyContent","borderBottomLeftRadius","welcomeContainer","alignSelf","tableContainer","marginLeft","marginRight","welcomeText","marginBottom","fontWeight","borderBottomRightRadius","welcomeSubtext2","welcomeLogin","inputView","TextInputAdd","marginTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { SafeAreaView, View, FlatList, StyleSheet, Text, StatusBar, Image, Dimensions, TextInput, TouchableOpacity } from 'react-native';\r\nimport { SearchBar } from 'react-native-elements';\r\nimport { DataTable } from 'react-native-paper';\r\nimport axios from 'axios';\r\n\r\nconst api_url = \"http://parkly-env.eba-u2qumtf7.us-east-2.elasticbeanstalk.com\";\r\n\r\nconst ListPage = ({navigation, route}) => {\r\n\r\n    const [parkings, setParkings] = useState([[]]);\r\n    const [loading ,setLoading] = useState(true);\r\n    const [totalPages, setPages] = useState(0);\r\n    const [currentPage, setPage] = useState(0);\r\n\r\n    const ite = route.params;\r\n\r\n    const options = {\r\n        headers: {'security-token': ite.token.current}\r\n    }\r\n\r\n    useEffect( () => {\r\n        axios.get(`${api_url}/p/parkings`, options).then((response) =>  {setParkings(response.data); setPages(response.data.totalPages)}).finally(() => setLoading(false))\r\n    }, []);\r\n\r\n    // useEffect(() => {\r\n    //     const unsubscribe = navigation.addListener('focus', () => {\r\n    //         axios.get(`${api_url}/p/parkings`, options).then((response) =>  {setParkings(response.data); setPages(response.data.totalPages)}).finally(() => setLoading(false))\r\n    //     });\r\n    //     return unsubscribe;\r\n    //   }, [navigation]);\r\n\r\n    const pageChange = (cp) => {\r\n        setPage(cp)\r\n        setLoading(true);\r\n        axios.get(`${api_url}/p/parkings?page=${cp}`, options).then( (response) => {setParkings(response.data); setPages(response.data.totalPages)}).finally( () => {setLoading(false);})\r\n    }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n        <View style={styles.bannerContainer}>\r\n            <View style={styles.banner}>\r\n                <Text style={styles.welcomeSubtext}> PARKLY.</Text>\r\n                <Text> Admin </Text>\r\n            </View>\r\n            <View style={styles.welcomeUser}>\r\n                <Text style={{fontSize: 18}}><Text> {ite.user.current}</Text> </Text>\r\n                \r\n            </View>\r\n        </View>\r\n        <View style={styles.bannerContainer}>\r\n            <View style={styles.searchContainer}>\r\n                <TextInput style={styles.TextInput} placeholder=\"Search for objects...\" placeholderTextColor=\"#000\"></TextInput>\r\n\r\n            </View> \r\n            <TouchableOpacity style={styles.searchBtn}>\r\n                    <Text>Search</Text>\r\n            </TouchableOpacity>\r\n        </View>\r\n\r\n        <View style={styles.filterContainer}>\r\n        <TouchableOpacity style={styles.entryBtn}>\r\n                    <Text>Filter</Text>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity style={styles.filterBtn} onPress={() => navigation.navigate('Add', {token: ite.token.current, username:ite.user.current})}>\r\n                    <Text>Add new entry</Text>\r\n        </TouchableOpacity>\r\n\r\n        </View>\r\n\r\n        <View style={styles.filterContainer}>\r\n\r\n        </View>\r\n\r\n        <View>\r\n            \r\n        </View>\r\n        <View>       \r\n            <DataTable>          \r\n                <DataTable.Header>\r\n                    <DataTable.Title> Action </DataTable.Title>\r\n                    <DataTable.Title> Name </DataTable.Title>\r\n                    <DataTable.Title> Country </DataTable.Title>\r\n                    <DataTable.Title> Town </DataTable.Title>\r\n                    <DataTable.Title> Spots </DataTable.Title>\r\n                </DataTable.Header>\r\n            { loading ? \r\n            <Text> Loading ... </Text>\r\n            :\r\n            <SafeAreaView>\r\n            {\r\n                parkings.items.map(element => (\r\n                \r\n                <DataTable.Row style={{height: 80}}>\r\n                    <DataTable.Cell> <TouchableOpacity onPress={() => navigation.navigate('Details', {token: ite.token.current, username:ite.user.current})} style={styles.mgmtBtn}><Text>Manage</Text>\r\n                    </TouchableOpacity>\r\n                    </DataTable.Cell>\r\n                    <DataTable.Cell> {element.name} </DataTable.Cell>\r\n                    <DataTable.Cell> {element.address.country}</DataTable.Cell>\r\n                    <DataTable.Cell> {element.address.town}</DataTable.Cell>\r\n                    <DataTable.Cell> {element.spotsTaken}/{element.spotsTotal}</DataTable.Cell>\r\n                    \r\n                </DataTable.Row>\r\n                \r\n              ))\r\n            }\r\n            </SafeAreaView>\r\n            }\r\n           \r\n                <DataTable.Pagination\r\n                page={currentPage}\r\n                numberOfPages={totalPages}\r\n                label={`${currentPage + 1} of ${totalPages}`}\r\n                onPageChange={(page) => pageChange(page)}\r\n                />\r\n         </DataTable>\r\n         \r\n    </View>\r\n</View>\r\n\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    \r\n    container: {\r\n        flex: 1,\r\n        //flexDirection: \"column\",\r\n        //paddingTop: 50,\r\n    },\r\n\r\n    bannerContainer: {\r\n        flexDirection: \"row\",\r\n        backgroundColor: \"#ffd300\",\r\n        //paddingLeft: 15,\r\n        paddingTop: 15,\r\n        paddingRight: 15,\r\n    },\r\n\r\n    filterContainer: {\r\n        flexDirection: \"row\",\r\n        backgroundColor: \"#ffd300\",\r\n        //paddingLeft: 15,\r\n        paddingBottom: 15,\r\n        paddingRight: 15,\r\n        \r\n    },\r\n\r\n    searchContainer: {\r\n        width: Dimensions.get(\"window\").width - 100,\r\n        paddingLeft: 35,\r\n        paddingRight: 15,\r\n        paddingBottom: 15,\r\n    },\r\n\r\n    searchBtn: {\r\n        //width: \"80%\",\r\n        //width: 150,\r\n        borderRadius: 10,\r\n        height: 50,\r\n        // width: 150,\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        // paddingLeft: 35,\r\n        // paddingRight: 35,\r\n        width: 80,\r\n        backgroundColor: \"#FAEBD7\",\r\n      },\r\n\r\n      mgmtBtn: {\r\n        \r\n        borderRadius: 10,\r\n        height: 35,\r\n        width: 70,\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n     \r\n        backgroundColor: \"#ffd300\",\r\n      },\r\n\r\n      banner: {\r\n        //position: \"absolute\",\r\n        //top: 0,\r\n        flexDirection: \"row\",\r\n        width: Dimensions.get(\"window\").width/2,\r\n        height: 65,\r\n        borderBottomLeftRadius: 20,\r\n        paddingLeft: 10,\r\n      },\r\n\r\n    welcomeContainer: {\r\n        justifyContent: \"flex-start\",\r\n        alignSelf: \"flex-start\",\r\n        width: '80%'\r\n    },\r\n\r\n    tableContainer: {\r\n        marginLeft: 15,\r\n        marginRight: 15,\r\n    },\r\n  \r\n    welcomeText: {\r\n        //fontFamily: \"Open-Sans\",\r\n        \r\n        fontSize: 36,\r\n        marginBottom: 5,\r\n        //alignSelf: \"left\",\r\n    },\r\n  \r\n    welcomeSubtext: {\r\n        fontWeight: \"bold\",\r\n        fontSize: 30,\r\n        //marginBottom: 55,\r\n    },\r\n\r\n    welcomeUser: {\r\n        width: Dimensions.get(\"window\").width/2,\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-end\",\r\n        borderBottomRightRadius: 20,\r\n        paddingRight: 10,\r\n    },\r\n  \r\n    welcomeSubtext2: {\r\n      fontSize: 30,\r\n  },\r\n  \r\n  filterBtn: {\r\n    borderRadius: 10,\r\n    height: 50,\r\n    // width: 150,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    marginLeft: 35,\r\n    width: Dimensions.get(\"window\").width - 200,\r\n    backgroundColor: \"#FAEBD7\",\r\n  },\r\n\r\n  entryBtn: {\r\n    borderRadius: 10,\r\n    height: 50,\r\n    // width: 150,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    marginLeft: 35,\r\n    width: 110,\r\n    backgroundColor: \"#FAEBD7\",\r\n  },\r\n\r\n\r\n  welcomeLogin: {\r\n      fontSize: 20,\r\n      marginBottom: 10,\r\n  },\r\n\r\n  inputView: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  TextInput: {\r\n    height: 50,\r\n    paddingLeft: 30,\r\n    backgroundColor: \"#f8f8ff\",\r\n    borderRadius: 20,\r\n  },\r\n\r\n  TextInputAdd: {\r\n    flex: 1,\r\n    height: 30,\r\n    width: Dimensions.get(\"window\").width-140,\r\n    paddingLeft: 15,\r\n    backgroundColor: \"#f8f8ff\",\r\n    borderRadius: 10,\r\n    \r\n   \r\n    marginLeft: 35,\r\n    marginRight: 35,\r\n    marginTop: 10,\r\n  },\r\n\r\n  });\r\n\r\nexport default ListPage;"]},"metadata":{},"sourceType":"module"}